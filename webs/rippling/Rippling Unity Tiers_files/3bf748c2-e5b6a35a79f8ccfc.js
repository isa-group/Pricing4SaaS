"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2453],{17380:function(e,t,n){n.d(t,{Z:function(){return x}});var i,r,o=n(58433),s=n(99560),a=n.n(s),u=n(54887),p=n(29293),l=n.n(p),c=n(14148),d=n(48764).lW;function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,_toPropertyKey(i.key),i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(e,t)}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function _nonIterableSpread(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,F=function(){};return{s:F,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:F}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}var h={DEFAULT_INSTANCE:"$default_instance",API_VERSION:2,MAX_STRING_LENGTH:4096,MAX_PROPERTY_KEYS:1e3,IDENTIFY_EVENT:"$identify",GROUP_IDENTIFY_EVENT:"$groupidentify",EVENT_LOG_URL:"api.amplitude.com",EVENT_LOG_EU_URL:"api.eu.amplitude.com",DYNAMIC_CONFIG_URL:"regionconfig.amplitude.com",DYNAMIC_CONFIG_EU_URL:"regionconfig.eu.amplitude.com",DEVICE_ID_INDEX:0,USER_ID_INDEX:1,OPT_OUT_INDEX:2,SESSION_ID_INDEX:3,LAST_EVENT_TIME_INDEX:4,EVENT_ID_INDEX:5,IDENTIFY_ID_INDEX:6,SEQUENCE_NUMBER_INDEX:7,COOKIE_TEST_PREFIX:"amp_cookie_test",COOKIE_PREFIX:"amp",STORAGE_DEFAULT:"",STORAGE_COOKIES:"cookies",STORAGE_NONE:"none",STORAGE_LOCAL:"localStorage",STORAGE_SESSION:"sessionStorage",REVENUE_EVENT:"revenue_amount",REVENUE_PRODUCT_ID:"$productId",REVENUE_QUANTITY:"$quantity",REVENUE_PRICE:"$price",REVENUE_REVENUE_TYPE:"$revenueType",AMP_DEVICE_ID_PARAM:"amp_device_id",AMP_REFERRER_PARAM:"amp_referrer",REFERRER:"referrer",REFERRING_DOMAIN:"referring_domain",UTM_SOURCE:"utm_source",UTM_MEDIUM:"utm_medium",UTM_CAMPAIGN:"utm_campaign",UTM_TERM:"utm_term",UTM_CONTENT:"utm_content",ATTRIBUTION_EVENT:"[Amplitude] Attribution Captured",TRANSPORT_HTTP:"http",TRANSPORT_BEACON:"beacon"},f="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==n.g?n.g:void 0,v={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){try{if(f.btoa&&f.atob)return f.btoa(unescape(encodeURIComponent(e)))}catch(e){}return v._encode(e)},_encode:function(e){var t,n,i,r,o,s,a,u="",p=0;for(e=function(e){for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?t+=String.fromCharCode(i>>6|192)+String.fromCharCode(63&i|128):t+=String.fromCharCode(i>>12|224)+String.fromCharCode(i>>6&63|128)+String.fromCharCode(63&i|128)}return t}(e);p<e.length;)t=e.charCodeAt(p++),n=e.charCodeAt(p++),i=e.charCodeAt(p++),r=t>>2,o=(3&t)<<4|n>>4,s=(15&n)<<2|i>>6,a=63&i,isNaN(n)?s=a=64:isNaN(i)&&(a=64),u=u+v._keyStr.charAt(r)+v._keyStr.charAt(o)+v._keyStr.charAt(s)+v._keyStr.charAt(a);return u},decode:function(e){try{if(f.btoa&&f.atob)return decodeURIComponent(escape(f.atob(e)))}catch(e){}return v._decode(e)},_decode:function(e){var t,n,i,r,o,s,a,u="",p=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");p<e.length;)r=v._keyStr.indexOf(e.charAt(p++)),o=v._keyStr.indexOf(e.charAt(p++)),s=v._keyStr.indexOf(e.charAt(p++)),a=v._keyStr.indexOf(e.charAt(p++)),t=r<<2|o>>4,n=(15&o)<<4|s>>2,i=(3&s)<<6|a,u+=String.fromCharCode(t),64!==s&&(u+=String.fromCharCode(n)),64!==a&&(u+=String.fromCharCode(i));return function(e){for(var t="",n=0,i=0,r=0;n<e.length;)(i=e.charCodeAt(n))<128?(t+=String.fromCharCode(i),n++):i>191&&i<224?(t+=String.fromCharCode((31&i)<<6|63&e.charCodeAt(n+1)),n+=2):(t+=String.fromCharCode((15&i)<<12|(63&e.charCodeAt(n+1))<<6|63&e.charCodeAt(n+2)),n+=3);return t}(u)}},y=Object.prototype.toString;function type(e){switch(y.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===e?"null":void 0===e?"undefined":e!=e?"nan":e&&1===e.nodeType?"element":void 0!==d&&"function"==typeof d.isBuffer&&d.isBuffer(e)?"buffer":(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e),_typeof(e))}var _={DISABLE:0,ERROR:1,WARN:2,INFO:3},g=_.WARN,m={error:function(e){g>=_.ERROR&&_log(e)},warn:function(e){g>=_.WARN&&_log(e)},info:function(e){g>=_.INFO&&_log(e)}},_log=function(e){try{console.log("[Amplitude] "+e)}catch(e){}},validateInput=function(e,t,n){return type(e)===n||(m.error("Invalid "+t+" input type. Expected "+n+" but received "+type(e)),!1)},validateProperties=function(e){var t=type(e);if("object"!==t)return m.error("Error: invalid properties format. Expecting Javascript object, received "+t+", ignoring"),{};if(Object.keys(e).length>h.MAX_PROPERTY_KEYS)return m.error("Error: too many properties (more than 1000), ignoring"),{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=i,o=type(r);"string"!==o&&(r=String(r),m.warn("WARNING: Non-string property key, received type "+o+', coercing to string "'+r+'"'));var s=validatePropertyValue(r,e[i]);null!==s&&(n[r]=s)}return n},I=["nan","function","arguments","regexp","element"],validatePropertyValue=function validatePropertyValue(e,t){var n=type(t);if(-1!==I.indexOf(n))m.warn('WARNING: Property key "'+e+'" with invalid value type '+n+", ignoring"),t=null;else if("undefined"===n)t=null;else if("error"===n)t=String(t),m.warn('WARNING: Property key "'+e+'" with value type error, coercing to '+t);else if("array"===n){for(var i=[],r=0;r<t.length;r++){var o=t[r],s=type(o);if("array"===s){m.warn("WARNING: Cannot have "+s+" nested in an array property value, skipping");continue}"object"===s?i.push(validateProperties(o)):i.push(validatePropertyValue(e,o))}t=i}else"object"===n&&(t=validateProperties(t));return t},validateGroupName=function(e,t){var n=type(t);if("string"===n)return t;if("date"===n||"number"===n||"boolean"===n)return t=String(t),m.warn("WARNING: Non-string groupName, received type "+n+', coercing to string "'+t+'"'),t;if("array"===n){for(var i=[],r=0;r<t.length;r++){var o=t[r],s=type(o);if("array"===s||"object"===s){m.warn("WARNING: Skipping nested "+s+" in array groupName");continue}"string"===s?i.push(o):("date"===s||"number"===s||"boolean"===s)&&(o=String(o),m.warn("WARNING: Non-string groupName, received type "+s+', coercing to string "'+o+'"'),i.push(o))}return i}m.warn("WARNING: Non-string groupName, received type "+n+". Please use strings or array of strings for groupName")},E={setLogLevel:function(e){Object.prototype.hasOwnProperty.call(_,e)&&(g=_[e])},getLogLevel:function(){return g},logLevels:_,log:m,isEmptyString:function(e){return!e||0===e.length},isWebWorkerEnvironment:function(){return"undefined"!=typeof WorkerGlobalScope},getQueryParam:function(e,t){var n=RegExp("[\\?&]"+(e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"))+"=([^&#]*)").exec(t);return null===n?void 0:decodeURIComponent(n[1].replace(/\+/g," "))},sessionStorageEnabled:function(){try{if(f.sessionStorage)return!0}catch(e){}return!1},truncate:function truncate(e){if("array"===type(e))for(var t,n=0;n<e.length;n++)e[n]=truncate(e[n]);else if("object"===type(e))for(var i in e)i in e&&(e[i]=truncate(e[i]));else e="string"===type(t=e)&&t.length>h.MAX_STRING_LENGTH?t.substring(0,h.MAX_STRING_LENGTH):t;return e},validateGroups:function(e){var t=type(e);if("object"!==t)return m.error("Error: invalid groups format. Expecting Javascript object, received "+t+", ignoring"),{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=i,o=type(r);"string"!==o&&(r=String(r),m.warn("WARNING: Non-string groupType, received type "+o+', coercing to string "'+r+'"'));var s=validateGroupName(r,e[i]);null!==s&&(n[r]=s)}return n},validateInput:validateInput,validateProperties:validateProperties,validateDeviceId:function(e){return!!validateInput(e,"deviceId","string")&&(!(e.indexOf(".")>=0)||(m.error("Device IDs may not contain '.' characters. Value will be ignored: \"".concat(e,'"')),!1))},validateTransport:function(e){return!!validateInput(e,"transport","string")&&(e!==h.TRANSPORT_HTTP&&e!==h.TRANSPORT_BEACON?(m.error("transport value must be one of '".concat(h.TRANSPORT_BEACON,"' or '").concat(h.TRANSPORT_HTTP,"'")),!1):e===h.TRANSPORT_HTTP||"undefined"==typeof navigator||!!navigator.sendBeacon||(m.error("browser does not support sendBeacon, so transport must be HTTP"),!1))},validateSessionId:function(e){return!!(validateInput(e,"sessionId","number")&&new Date(e).getTime()>0)||(m.error("sessionId value must in milliseconds since epoch (Unix Timestamp)"),!1)},getLocation:function(){return f.location},getHost:function(e){var t=f.location?f.location.hostname:"";if(e){if("undefined"!=typeof document){var n=document.createElement("a");return n.href=e,n.hostname||t}if("function"==typeof URL)return new URL(e).hostname||t}return t}},get$1=function(e){try{for(var t=document.cookie.split(";"),n=null,i=0;i<t.length;i++){for(var r=t[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(e)){n=r.substring(e.length,r.length);break}}return n}catch(e){return null}},set$1=function(e,t,n){var i=null!==t?n.expirationDays:-1;if(i){var r=new Date;r.setTime(r.getTime()+864e5*i),i=r}var o=e+"="+t;i&&(o+="; expires="+i.toUTCString()),o+="; path=/",n.domain&&(o+="; domain="+n.domain),n.secure&&(o+="; Secure"),n.sameSite&&(o+="; SameSite="+n.sameSite),document.cookie=o},getLastEventTime=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=t.split(".")[h.LAST_EVENT_TIME_INDEX];return(n&&(e=parseInt(n,32)),e)?e:(E.log.warn("unable to parse malformed cookie: ".concat(t)),0)},S={set:set$1,get:get$1,getAll:function(e){try{var t,n=document.cookie.split(";").map(function(e){return e.trimStart()}),i=[],r=_createForOfIteratorHelper(n);try{for(r.s();!(t=r.n()).done;){for(var o=t.value;" "===o.charAt(0);)o=o.substring(1);0===o.indexOf(e)&&i.push(o.substring(e.length))}}catch(e){r.e(e)}finally{r.f()}return i}catch(e){return[]}},getLastEventTime:getLastEventTime,sortByEventTime:function(e){return _toConsumableArray(e).sort(function(e,t){var n=getLastEventTime(e);return getLastEventTime(t)-n})},areCookiesEnabled:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=h.COOKIE_TEST_PREFIX;if("undefined"==typeof document)return!1;var n=!1;try{var i=String(Date.now());set$1(t,i,e),E.log.info("Testing if cookies available"),n=get$1(t+"=")===i}catch(e){E.log.warn('Error thrown when checking for cookies. Reason: "'.concat(e,'"'))}finally{E.log.info("Cleaning up cookies availability test"),set$1(t,null,e)}return n}},base64Id=function(){for(var e="",t=0;t<22;++t)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(Math.floor(64*Math.random()));return e},topDomain=function(e){var t=E.getHost(e).split("."),n=[],i="_tldtest_"+base64Id();if(E.isWebWorkerEnvironment())return"";for(var r=t.length-2;r>=0;--r)n.push(t.slice(r).join("."));for(var o=0;o<n.length;++o){var s=n[o],a={domain:"."+s};if(S.set(i,1,a),S.get(i))return S.set(i,null,a),s}return""},b={expirationDays:void 0,domain:void 0},_domainSpecific=function(e){var t="";return b.domain&&(t="."===b.domain.charAt(0)?b.domain.substring(1):b.domain),e+t},get=function(e){var t=_domainSpecific(e)+"=",n=S.get(t);try{if(n)return JSON.parse(v.decode(n))}catch(e){}return null},set=function(e,t){try{return S.set(_domainSpecific(e),v.encode(JSON.stringify(t)),b),!0}catch(e){return!1}},remove=function(e){try{return S.set(_domainSpecific(e),null,b),!0}catch(e){return!1}},C={reset:function(){b={expirationDays:void 0,domain:void 0}},options:function(e){if(0==arguments.length)return b;e=e||{},b.expirationDays=e.expirationDays,b.secure=e.secure,b.sameSite=e.sameSite;var t=E.isEmptyString(e.domain)?"."+topDomain(E.getLocation().href):e.domain,n=Math.random();b.domain=t,set("amplitude_test",n);var i=get("amplitude_test");return i&&i===n||(t=null),remove("amplitude_test"),b.domain=t,b},get:get,set:set,remove:remove,setRaw:function(e,t){try{return S.set(_domainSpecific(e),t,b),!0}catch(e){return!1}},getRaw:function(e){var t=_domainSpecific(e)+"=";return S.get(t)}},A=function(){function WorkerStorage(){_classCallCheck(this,WorkerStorage),this.map=new Map,this.length=0}return _createClass(WorkerStorage,[{key:"key",value:function(e){var t=Array.from(this.map.keys())[e];return this.map.get(t)}},{key:"getItem",value:function(e){return this.map.get(e)}},{key:"setItem",value:function(e,t){this.map.has(e)||(this.length+=1),this.map.set(e,t)}},{key:"removeItem",value:function(e){this.map.has(e)&&(this.length-=1,this.map.delete(e))}},{key:"clear",value:function(){this.map.clear(),this.length=0}}]),WorkerStorage}();if(function(){var e,t=new Date;try{return f.localStorage.setItem(t,t),e=f.localStorage.getItem(t)===String(t),f.localStorage.removeItem(t),e}catch(e){}return!1}())i=f.localStorage;else if(void 0!==f&&f.globalStorage)try{i=f.globalStorage[f.location.hostname]}catch(e){}else if("undefined"!=typeof document){var N=document.createElement("div"),T="localStorage";N.style.display="none",document.getElementsByTagName("head")[0].appendChild(N),N.addBehavior&&(N.addBehavior("#default#userdata"),i={length:0,setItem:function(e,t){N.load(T),!N.getAttribute(e)&&this.length++,N.setAttribute(e,t),N.save(T)},getItem:function(e){return N.load(T),N.getAttribute(e)},removeItem:function(e){N.load(T),N.getAttribute(e)&&this.length--,N.removeAttribute(e),N.save(T)},clear:function(){N.load(T);for(var e,t=0;e=N.XMLDocument.documentElement.attributes[t++];)N.removeAttribute(e.name);N.save(T),this.length=0},key:function(e){return N.load(T),N.XMLDocument.documentElement.attributes[e]}},N.load(T),i.length=N.XMLDocument.documentElement.attributes.length)}else E.isWebWorkerEnvironment()&&(i=new A);i||(i={length:0,setItem:function(e,t){},getItem:function(e){},removeItem:function(e){},clear:function(){},key:function(e){}});var O=i,cookieStorage=function(){this.storage=null};cookieStorage.prototype.getStorage=function(e){if(null!==this.storage)return this.storage;if(!e&&S.areCookiesEnabled())this.storage=C;else{var t="amp_cookiestore_";this.storage={_options:{expirationDays:void 0,domain:void 0,secure:!1},reset:function(){this._options={expirationDays:void 0,domain:void 0,secure:!1}},options:function(e){return 0==arguments.length?this._options:(e=e||{},this._options.expirationDays=e.expirationDays||this._options.expirationDays,this._options.domain=e.domain||this._options.domain||f&&f.location&&f.location.hostname,this._options.secure=e.secure||!1)},get:function(e){try{return JSON.parse(O.getItem(t+e))}catch(e){}return null},set:function(e,n){try{return O.setItem(t+e,JSON.stringify(n)),!0}catch(e){}return!1},remove:function(e){try{O.removeItem(t+e)}catch(e){return!1}}}}return this.storage};var k=(_defineProperty(r={},h.STORAGE_COOKIES,!0),_defineProperty(r,h.STORAGE_NONE,!0),_defineProperty(r,h.STORAGE_LOCAL,!0),_defineProperty(r,h.STORAGE_SESSION,!0),r),R=function(){function MetadataStorage(e){var t=e.storageKey,n=e.disableCookies,i=e.domain,r=e.secure,o=e.sameSite,s=e.expirationDays,a=e.storage;_classCallCheck(this,MetadataStorage),this.storageKey=t,this.domain=i,this.secure=r,this.sameSite=o,this.expirationDays=s,this.cookieDomain="";var u=E.getLocation()?E.getLocation().href:void 0,p=n?"":topDomain(u);this.cookieDomain=i||(p?"."+p:null),k[a]?this.storage=a:n||!S.areCookiesEnabled({domain:this.cookieDomain,secure:this.secure,sameSite:this.sameSite,expirationDays:this.expirationDays})?this.storage=h.STORAGE_LOCAL:this.storage=h.STORAGE_COOKIES}return _createClass(MetadataStorage,[{key:"getCookieStorageKey",value:function(){if(!this.domain)return this.storageKey;var e="."===this.domain.charAt(0)?this.domain.substring(1):this.domain;return"".concat(this.storageKey).concat(e?"_".concat(e):"")}},{key:"save",value:function(e){var t=e.deviceId,n=e.userId,i=e.optOut,r=e.sessionId,o=e.lastEventTime,s=e.eventId,a=e.identifyId,u=e.sequenceNumber;if(this.storage!==h.STORAGE_NONE){var p=[t,v.encode(n||""),i?"1":"",r?r.toString(32):"0",o?o.toString(32):"0",s?s.toString(32):"0",a?a.toString(32):"0",u?u.toString(32):"0"].join(".");switch(this.storage){case h.STORAGE_SESSION:f.sessionStorage&&f.sessionStorage.setItem(this.storageKey,p);break;case h.STORAGE_LOCAL:O.setItem(this.storageKey,p);break;case h.STORAGE_COOKIES:this.saveCookie(p)}}}},{key:"saveCookie",value:function(e){S.set(this.getCookieStorageKey(),e,{domain:this.cookieDomain,secure:this.secure,sameSite:this.sameSite,expirationDays:this.expirationDays})}},{key:"load",value:function(){var e,t=this;if(this.storage===h.STORAGE_COOKIES){var n=this.getCookieStorageKey()+"=",i=S.getAll(n);if(0===i.length||1===i.length)e=i[0];else{var r=S.sortByEventTime(i)[0];i.forEach(function(){return S.set(t.getCookieStorageKey(),null,{})}),this.saveCookie(r),e=S.get(n)}}if(e||(e=O.getItem(this.storageKey)),!e)try{e=f.sessionStorage&&f.sessionStorage.getItem(this.storageKey)}catch(e){E.log.info('window.sessionStorage unavailable. Reason: "'.concat(e,'"'))}if(!e)return null;var o=e.split("."),s=null;if(o[h.USER_ID_INDEX])try{s=v.decode(o[h.USER_ID_INDEX])}catch(e){s=null}return{deviceId:o[h.DEVICE_ID_INDEX],userId:s,optOut:"1"===o[h.OPT_OUT_INDEX],sessionId:parseInt(o[h.SESSION_ID_INDEX],32),lastEventTime:parseInt(o[h.LAST_EVENT_TIME_INDEX],32),eventId:parseInt(o[h.EVENT_ID_INDEX],32),identifyId:parseInt(o[h.IDENTIFY_ID_INDEX],32),sequenceNumber:parseInt(o[h.SEQUENCE_NUMBER_INDEX],32)}}},{key:"clear",value:function(){var e;if(this.storage===h.STORAGE_COOKIES&&(e=S.get(this.getCookieStorageKey()+"="),S.set(this.getCookieStorageKey(),null,{domain:this.cookieDomain,secure:this.secure,sameSite:this.sameSite,expirationDays:0})),e||(e=O.getItem(this.storageKey),O.clear()),!e)try{e=f.sessionStorage&&f.sessionStorage.getItem(this.storageKey),f.sessionStorage.clear()}catch(e){E.log.info('window.sessionStorage unavailable. Reason: "'.concat(e,'"'))}return!!e}}]),MetadataStorage}(),getUtmData=function(e,t){var n=e?"?"+e.split(".").slice(-1)[0].replace(/\|/g,"&"):"",fetchParam=function(e,t,n,i){return E.getQueryParam(e,t)||E.getQueryParam(n,i)},i=fetchParam(h.UTM_SOURCE,t,"utmcsr",n),r=fetchParam(h.UTM_MEDIUM,t,"utmcmd",n),o=fetchParam(h.UTM_CAMPAIGN,t,"utmccn",n),s=fetchParam(h.UTM_TERM,t,"utmctr",n),a=fetchParam(h.UTM_CONTENT,t,"utmcct",n),u={},addIfNotNull=function(e,t){E.isEmptyString(t)||(u[e]=t)};return addIfNotNull(h.UTM_SOURCE,i),addIfNotNull(h.UTM_MEDIUM,r),addIfNotNull(h.UTM_CAMPAIGN,o),addIfNotNull(h.UTM_TERM,s),addIfNotNull(h.UTM_CONTENT,a),u},P="$clearAll",Identify=function(){this.userPropertiesOperations={},this.properties=[]};Identify.prototype.add=function(e,t){return"number"===type(t)||"string"===type(t)?this._addOperation("$add",e,t):E.log.error("Unsupported type for value: "+type(t)+", expecting number or string"),this},Identify.prototype.append=function(e,t){return this._addOperation("$append",e,t),this},Identify.prototype.clearAll=function(){return Object.keys(this.userPropertiesOperations).length>0?Object.prototype.hasOwnProperty.call(this.userPropertiesOperations,P)||E.log.error("Need to send $clearAll on its own Identify object without any other operations, skipping $clearAll"):this.userPropertiesOperations[P]="-",this},Identify.prototype.prepend=function(e,t){return this._addOperation("$prepend",e,t),this},Identify.prototype.set=function(e,t){return this._addOperation("$set",e,t),this},Identify.prototype.setOnce=function(e,t){return this._addOperation("$setOnce",e,t),this},Identify.prototype.unset=function(e){return this._addOperation("$unset",e,"-"),this},Identify.prototype.preInsert=function(e,t){return this._addOperation("$preInsert",e,t),this},Identify.prototype.postInsert=function(e,t){return this._addOperation("$postInsert",e,t),this},Identify.prototype.remove=function(e,t){return this._addOperation("$remove",e,t),this},Identify.prototype._addOperation=function(e,t,n){if(Object.prototype.hasOwnProperty.call(this.userPropertiesOperations,P)){E.log.error("This identify already contains a $clearAll operation, skipping operation "+e);return}if(-1!==this.properties.indexOf(t)){E.log.error('User property "'+t+'" already used in this identify, skipping operation '+e);return}Object.prototype.hasOwnProperty.call(this.userPropertiesOperations,e)||(this.userPropertiesOperations[e]={}),this.userPropertiesOperations[e][t]=n,this.properties.push(t)};var Request=function(e,t,n){this.url=e,this.data=t||{},this.headers=n};function setHeaders(e,t){for(var n in t)("Cross-Origin-Resource-Policy"!==n||t[n])&&e.setRequestHeader(n,t[n])}Request.prototype.send=function(e){if(f.XDomainRequest){var t=new f.XDomainRequest;t.open("POST",this.url,!0),t.onload=function(){e(200,t.responseText)},t.onerror=function(){"Request Entity Too Large"===t.responseText?e(413,t.responseText):e(500,t.responseText)},t.ontimeout=function(){},t.onprogress=function(){},t.send(u.Z.stringify(this.data))}else if("undefined"!=typeof XMLHttpRequest){var n=new XMLHttpRequest;n.open("POST",this.url,!0),n.onreadystatechange=function(){4===n.readyState&&e(n.status,n.responseText)},setHeaders(n,this.headers),n.send(u.Z.stringify(this.data))}else{var i=void 0;fetch(this.url,{method:"POST",headers:this.headers,body:u.Z.stringify(this.data)}).then(function(e){return i=e.status,e.text()}).then(function(t){e(i,t)})}};var Revenue=function(){this._price=null,this._productId=null,this._quantity=1,this._revenueType=null,this._properties=null};Revenue.prototype.setProductId=function(e){return"string"!==type(e)?E.log.error("Unsupported type for productId: "+type(e)+", expecting string"):E.isEmptyString(e)?E.log.error("Invalid empty productId"):this._productId=e,this},Revenue.prototype.setQuantity=function(e){return"number"!==type(e)?E.log.error("Unsupported type for quantity: "+type(e)+", expecting number"):this._quantity=parseInt(e),this},Revenue.prototype.setPrice=function(e){return"number"!==type(e)?E.log.error("Unsupported type for price: "+type(e)+", expecting number"):this._price=e,this},Revenue.prototype.setRevenueType=function(e){return"string"!==type(e)?E.log.error("Unsupported type for revenueType: "+type(e)+", expecting string"):this._revenueType=e,this},Revenue.prototype.setEventProperties=function(e){return"object"!==type(e)?E.log.error("Unsupported type for eventProperties: "+type(e)+", expecting object"):this._properties=E.validateProperties(e),this},Revenue.prototype._isValidRevenue=function(){return"number"===type(this._price)||(E.log.error("Invalid revenue, need to set price field"),!1)},Revenue.prototype._toJSONObject=function(){var e="object"===type(this._properties)?this._properties:{};return null!==this._productId&&(e[h.REVENUE_PRODUCT_ID]=this._productId),null!==this._quantity&&(e[h.REVENUE_QUANTITY]=this._quantity),null!==this._price&&(e[h.REVENUE_PRICE]=this._price),null!==this._revenueType&&(e[h.REVENUE_REVENUE_TYPE]=this._revenueType),e};var D={US:"US",EU:"EU"},getEventLogApi=function(e){var t=h.EVENT_LOG_URL;switch(e){case D.EU:t=h.EVENT_LOG_EU_URL;break;case D.US:t=h.EVENT_LOG_URL}return t},getDynamicConfigApi=function(e){var t=h.DYNAMIC_CONFIG_URL;switch(e){case D.EU:t=h.DYNAMIC_CONFIG_EU_URL;break;case D.US:t=h.DYNAMIC_CONFIG_URL}return t},U="8.21.9",w={apiEndpoint:h.EVENT_LOG_URL,batchEvents:!1,cookieExpiration:365,cookieName:"amplitude_id",sameSiteCookie:"Lax",cookieForceUpgrade:!1,deferInitialization:!1,disableCookies:!1,deviceIdFromUrlParam:!1,domain:"",eventUploadPeriodMillis:3e4,eventUploadThreshold:30,forceHttps:!0,includeFbclid:!1,includeGclid:!1,includeReferrer:!1,includeUtm:!1,ingestionMetadata:{sourceName:"",sourceVersion:""},language:({getLanguage:function(){return"undefined"!=typeof navigator&&(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage)||""}}).getLanguage(),library:{name:"amplitude-js",version:U},logLevel:"WARN",logAttributionCapturedEvent:!1,optOut:!1,onError:function(){},onExitPage:function(){},onNewSessionStart:function(){},plan:{branch:"",source:"",version:"",versionId:""},platform:"Web",savedMaxCount:1e3,saveEvents:!0,saveParamsReferrerOncePerSession:!0,secureCookie:!1,sessionTimeout:18e5,storage:h.STORAGE_DEFAULT,trackingOptions:{city:!0,country:!0,carrier:!0,device_manufacturer:!0,device_model:!0,dma:!0,ip_address:!0,language:!0,os_name:!0,os_version:!0,platform:!0,region:!0,version_name:!0},transport:h.TRANSPORT_HTTP,unsetParamsReferrerOnNewSession:!1,unsentKey:"amplitude_unsent",unsentIdentifyKey:"amplitude_unsent_identify",uploadBatchSize:100,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Cross-Origin-Resource-Policy":"cross-origin"},serverZone:D.US,useDynamicConfig:!1,serverZoneBasedApi:!1,sessionId:null,partnerId:""},M=new(function(){function ConfigManager(){return _classCallCheck(this,ConfigManager),ConfigManager.instance||(this.ingestionEndpoint=h.EVENT_LOG_URL,ConfigManager.instance=this),ConfigManager.instance}return _createClass(ConfigManager,[{key:"refresh",value:function(e,t,n){var i="https";t||"https:"===f.location.protocol||(i="http");var r=i+"://"+getDynamicConfigApi(e),o=this;if(f.XDomainRequest){var s=new f.XDomainRequest;s.open("GET",r,!0),s.onload=function(){var e=JSON.parse(s.responseText);o.ingestionEndpoint=e.ingestionEndpoint,n&&n()},s.onerror=function(){},s.ontimeout=function(){},s.onprogress=function(){},s.send()}else{var a=new XMLHttpRequest;a.open("GET",r,!0),a.onreadystatechange=function(){if(4===a.readyState&&200===a.status){var e=JSON.parse(a.responseText);o.ingestionEndpoint=e.ingestionEndpoint,n&&n()}},a.send()}}}]),ConfigManager}()),AmplitudeClient=function(e){(0,o.kP)()||E.isWebWorkerEnvironment()||E.log.warn("amplitude-js will not work in a non-browser environment. If you are planning to add Amplitude to a node environment, please use @amplitude/node"),this._instanceName=E.isEmptyString(e)?h.DEFAULT_INSTANCE:e.toLowerCase(),this._unsentEvents=[],this._unsentIdentifys=[],this.options=_objectSpread2(_objectSpread2({},w),{},{headers:_objectSpread2({},w.headers),ingestionMetadata:_objectSpread2({},w.ingestionMetadata),library:_objectSpread2({},w.library),plan:_objectSpread2({},w.plan),trackingOptions:_objectSpread2({},w.trackingOptions)}),this._q=[],this._sending=!1,this._updateScheduled=!1,this._onInitCallbacks=[],this._onNewSessionStartCallbacks=[],this._eventId=0,this._identifyId=0,this._lastEventTime=null,this._newSession=!1,this._sequenceNumber=0,this._sessionId=null,this._isInitialized=!1,this._connector=null,this._userAgent="undefined"!=typeof navigator&&navigator&&navigator.userAgent||null,this._ua=new(l())(this._userAgent).getResult()};AmplitudeClient.prototype.Identify=Identify,AmplitudeClient.prototype.Revenue=Revenue,AmplitudeClient.prototype.init=function(e,t,n,i){var r=this;if("string"!==type(e)||E.isEmptyString(e)){E.log.error("Invalid apiKey. Please re-initialize with a valid apiKey");return}try{this._connector=c.V.getInstance(this._instanceName),_parseConfig(this.options,n),((0,o.kP)()||E.isWebWorkerEnvironment())&&void 0!==f.Prototype&&Array.prototype.toJSON&&((0,o.XQ)(),E.log.warn("Prototype.js injected Array.prototype.toJSON. Deleting Array.prototype.toJSON to prevent double-stringify")),this.options.cookieName!==w.cookieName&&E.log.warn("The cookieName option is deprecated. We will be ignoring it for newer cookies"),this.options.serverZoneBasedApi&&(this.options.apiEndpoint=getEventLogApi(this.options.serverZone)),this._refreshDynamicConfig(),this.options.apiKey=e,this._storageSuffix="_"+e+(this._instanceName===h.DEFAULT_INSTANCE?"":"_"+this._instanceName),this._storageSuffixV5=e.slice(0,6),this._oldCookiename=this.options.cookieName+this._storageSuffix,this._unsentKey=this.options.unsentKey+this._storageSuffix,this._unsentIdentifyKey=this.options.unsentIdentifyKey+this._storageSuffix,this._cookieName=h.COOKIE_PREFIX+"_"+this._storageSuffixV5,this.cookieStorage=new cookieStorage().getStorage(this.options.disableCookies),this.cookieStorage.options({expirationDays:this.options.cookieExpiration,domain:this.options.domain,secure:this.options.secureCookie,sameSite:this.options.sameSiteCookie}),this._metadataStorage=new R({storageKey:this._cookieName,disableCookies:this.options.disableCookies,expirationDays:this.options.cookieExpiration,domain:this.options.domain,secure:this.options.secureCookie,sameSite:this.options.sameSiteCookie,storage:this.options.storage});var s=!!this.cookieStorage.get(this._oldCookiename),a=!!this._metadataStorage.load();if(this._useOldCookie=!a&&s&&!this.options.cookieForceUpgrade,this.options.deferInitialization&&!(a||s)){this._deferInitialization(e,t,n,i);return}this.options.domain=this.cookieStorage.options().domain,"string"===type(this.options.logLevel)&&E.setLogLevel(this.options.logLevel);var u=_generateApiPropertiesTrackingConfig(this);this._apiPropertiesTrackingOptions=Object.keys(u).length>0?{tracking_options:u}:{},this.options.cookieForceUpgrade&&s&&(a||_upgradeCookieData(this),this.cookieStorage.remove(this._oldCookiename)),_loadCookieData(this),this._pendingReadStorage=!0,this.options.saveEvents&&(this._unsentEvents=this._loadSavedUnsentEvents(this.options.unsentKey).map(function(e){return{event:e}}).concat(this._unsentEvents),this._unsentIdentifys=this._loadSavedUnsentEvents(this.options.unsentIdentifyKey).map(function(e){return{event:e}}).concat(this._unsentIdentifys)),n&&n.onNewSessionStart&&this.onNewSessionStart(this.options.onNewSessionStart),function(){n&&n.deviceId&&!E.validateDeviceId(n.deviceId)&&(E.log.error('Invalid device ID rejected. Randomly generated UUID will be used instead of "'.concat(n.deviceId,'"')),delete n.deviceId),r.options.deviceId=r._getInitialDeviceId(n&&n.deviceId,void 0),r.options.userId="string"===type(t)&&!E.isEmptyString(t)&&t||"number"===type(t)&&t.toString()||r.options.userId||null;var e=new Date().getTime(),i=!r._sessionId||!r._lastEventTime||e-r._lastEventTime>r.options.sessionTimeout||r.options.sessionId;i&&(r.options.unsetParamsReferrerOnNewSession&&r._unsetUTMParams(),r._newSession=!0,r._sessionId=r.options.sessionId||e,r.options.sessionId=void 0,r.options.saveParamsReferrerOncePerSession&&r._trackParamsAndReferrer()),r.options.saveParamsReferrerOncePerSession||r._trackParamsAndReferrer(),r.options.saveEvents&&(_validateUnsentEventQueue(r._unsentEvents),_validateUnsentEventQueue(r._unsentIdentifys)),r._lastEventTime=e,_saveCookieData(r),r._pendingReadStorage=!1,r._sendEventsIfReady();for(var o=0;o<r._onInitCallbacks.length;o++)r._onInitCallbacks[o](r);r._onInitCallbacks=[],r._isInitialized=!0,i&&r._runNewSessionStartCallbacks()}(),this.runQueuedFunctions(),"function"===type(i)&&i(this);var p=this.options.onExitPage;if("function"===type(p)&&f.addEventListener&&!this.pageHandlersAdded){this.pageHandlersAdded=!0;var handleVisibilityChange=function(){var e=r.options.transport;r.setTransport(h.TRANSPORT_BEACON),p(),r.setTransport(e)};f.addEventListener("pagehide",function(){handleVisibilityChange()},!1)}this._connector.eventBridge.setEventReceiver(function(e){r._logEvent(e.eventType,e.eventProperties,e.userProperties)});var l=this._connector.identityStore.editIdentity();this.options.deviceId&&l.setDeviceId(this.options.deviceId),this.options.userId&&l.setUserId(this.options.userId),l.commit()}catch(e){E.log.error(e),n&&"function"===type(n.onError)&&n.onError(e)}},AmplitudeClient.prototype._runNewSessionStartCallbacks=function(){for(var e=0;e<this._onNewSessionStartCallbacks.length;e++)this._onNewSessionStartCallbacks[e](this)},AmplitudeClient.prototype.deleteLowerLevelDomainCookies=function(){var e=E.getHost(),t=this.options.domain&&"."===this.options.domain[0]?this.options.domain.slice(1):this.options.domain;if(t&&E.isWebWorkerEnvironment()&&e!==t&&RegExp(t+"$").test(e)){for(var n=e.split("."),i=t.split("."),r=n.length;r>i.length;--r){var o=n.slice(n.length-r).join(".");S.set(this._cookieName,null,{domain:"."+o})}S.set(this._cookieName,null,{})}},AmplitudeClient.prototype._getInitialDeviceId=function(e,t){if(e)return e;if(this.options.deviceIdFromUrlParam){var n=this._getDeviceIdFromUrlParam(this._getUrlParams());if(n)return n}return this.options.deviceId?this.options.deviceId:t||base64Id()};var _validateUnsentEventQueue=function(e){for(var t=0;t<e.length;t++){var n=e[t].event.user_properties,i=e[t].event.event_properties,r=e[t].event.groups;e[t].event.user_properties=E.validateProperties(n),e[t].event.event_properties=E.validateProperties(i),e[t].event.groups=E.validateGroups(r)}};AmplitudeClient.prototype._trackParamsAndReferrer=function(){if(this.options.includeUtm&&(e=this._initUtmData()),this.options.includeReferrer&&(t=this._saveReferrer(this._getReferrer())),this.options.includeGclid&&(n=this._saveGclid(this._getUrlParams())),this.options.includeFbclid&&(i=this._saveFbclid(this._getUrlParams())),this.options.logAttributionCapturedEvent){var e,t,n,i,r=_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},e),t),n),i);Object.keys(r).length>0&&this.logEvent(h.ATTRIBUTION_EVENT,r)}};var _parseConfig=function _parseConfig(e,t){if("object"===type(t)){var n=new Set(["headers"]),i=new Set(["eventUploadPeriodMillis"]);for(var r in t)n.has(r)?e[r]=_objectSpread2(_objectSpread2({},e[r]),t[r]):Object.prototype.hasOwnProperty.call(t,r)&&function(n){if(Object.prototype.hasOwnProperty.call(e,n)){var r=t[n],o=type(e[n]);if("transport"!==n||E.validateTransport(r)){if("sessionId"===n&&null!==r){e[n]=E.validateSessionId(r)?r:null;return}E.validateInput(r,n+" option",o)&&("boolean"===o?e[n]=!!r:"string"===o&&!E.isEmptyString(r)||"number"===o&&(r>0||0===r&&i.has(n))||"function"===o?e[n]=r:"object"===o&&_parseConfig(e[n],r))}}}(r)}};AmplitudeClient.prototype.runQueuedFunctions=function(){var e=this._q;this._q=[];for(var t=0;t<e.length;t++){var n=this[e[t][0]];"function"===type(n)&&n.apply(this,e[t].slice(1))}},AmplitudeClient.prototype._apiKeySet=function(e){return!E.isEmptyString(this.options.apiKey)||(E.log.error("Invalid apiKey. Please set a valid apiKey with init() before calling "+e),!1)},AmplitudeClient.prototype._loadSavedUnsentEvents=function(e){var t=this._getFromStorage(O,e),n=this._parseSavedUnsentEventsString(t,e);return this._setInStorage(O,e,JSON.stringify(n)),n},AmplitudeClient.prototype._parseSavedUnsentEventsString=function(e,t){if(E.isEmptyString(e))return[];if("string"===type(e))try{var n=JSON.parse(e);if("array"===type(n))return n}catch(e){}return E.log.error("Unable to load "+t+" events. Restart with a new empty queue."),[]},AmplitudeClient.prototype.isNewSession=function(){return this._newSession},AmplitudeClient.prototype.onInit=function(e){this._isInitialized?e(this):this._onInitCallbacks.push(e)},AmplitudeClient.prototype.onNewSessionStart=function(e){this._onNewSessionStartCallbacks.push(e)},AmplitudeClient.prototype.getSessionId=function(){return this._sessionId},AmplitudeClient.prototype.nextEventId=function(){return this._eventId++,this._eventId},AmplitudeClient.prototype.nextIdentifyId=function(){return this._identifyId++,this._identifyId},AmplitudeClient.prototype.nextSequenceNumber=function(){return this._sequenceNumber++,this._sequenceNumber},AmplitudeClient.prototype._unsentCount=function(){return this._unsentEvents.length+this._unsentIdentifys.length},AmplitudeClient.prototype._sendEventsIfReady=function(){return 0!==this._unsentCount()&&(!this.options.batchEvents||this._unsentCount()>=this.options.eventUploadThreshold||this.options.transport===h.TRANSPORT_BEACON?(this.sendEvents(),!0):(this._updateScheduled||(this._updateScheduled=!0,setTimeout((function(){this._updateScheduled=!1,this.sendEvents()}).bind(this),this.options.eventUploadPeriodMillis)),!1))},AmplitudeClient.prototype.clearStorage=function(){return this._metadataStorage.clear()},AmplitudeClient.prototype._getFromStorage=function(e,t){return e.getItem(t+this._storageSuffix)},AmplitudeClient.prototype._setInStorage=function(e,t,n){e.setItem(t+this._storageSuffix,n)};var _loadCookieData=function(e){if(!e._useOldCookie){var t=e._metadataStorage.load();"object"===type(t)&&_loadCookieDataProps(e,t);return}var n=e.cookieStorage.get(e._oldCookiename);if("object"===type(n)){_loadCookieDataProps(e,n);return}},_upgradeCookieData=function(e){var t=e.cookieStorage.get(e._oldCookiename);"object"===type(t)&&(_loadCookieDataProps(e,t),_saveCookieData(e))},_loadCookieDataProps=function(e,t){t.deviceId&&(e.options.deviceId=t.deviceId),t.userId&&(e.options.userId=t.userId),null!==t.optOut&&void 0!==t.optOut&&!1!==t.optOut&&(e.options.optOut=t.optOut),t.sessionId&&(e._sessionId=parseInt(t.sessionId,10)),t.lastEventTime&&(e._lastEventTime=parseInt(t.lastEventTime,10)),t.eventId&&(e._eventId=parseInt(t.eventId,10)),t.identifyId&&(e._identifyId=parseInt(t.identifyId,10)),t.sequenceNumber&&(e._sequenceNumber=parseInt(t.sequenceNumber,10))},_saveCookieData=function(e){var t={deviceId:e.options.deviceId,userId:e.options.userId,optOut:e.options.optOut,sessionId:e._sessionId,lastEventTime:e._lastEventTime,eventId:e._eventId,identifyId:e._identifyId,sequenceNumber:e._sequenceNumber};e._useOldCookie?e.cookieStorage.set(e.options.cookieName+e._storageSuffix,t):e._metadataStorage.save(t)};AmplitudeClient.prototype._initUtmData=function(e,t){e=e||this._getUrlParams();var n=getUtmData(t=t||this.cookieStorage.get("__utmz"),e);return _sendParamsReferrerUserProperties(this,n),n},AmplitudeClient.prototype._unsetUTMParams=function(){var e=new Identify;e.unset(h.REFERRER),e.unset(h.REFERRING_DOMAIN),e.unset(h.UTM_SOURCE),e.unset(h.UTM_MEDIUM),e.unset(h.UTM_CAMPAIGN),e.unset(h.UTM_TERM),e.unset(h.UTM_CONTENT),this.identify(e)};var _sendParamsReferrerUserProperties=function(e,t){if("object"===type(t)&&0!==Object.keys(t).length){var n=new Identify;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n.setOnce("initial_"+i,t[i]),n.set(i,t[i]));e.identify(n)}};AmplitudeClient.prototype._getReferrer=function(){return this._getReferrerFromUrlParam(this._getUrlParams())||("undefined"!=typeof document?document.referrer:"")},AmplitudeClient.prototype._getUrlParams=function(){return f.location.search},AmplitudeClient.prototype._saveGclid=function(e){var t=E.getQueryParam("gclid",e);if(!E.isEmptyString(t)){var n={gclid:t};return _sendParamsReferrerUserProperties(this,n),n}},AmplitudeClient.prototype._saveFbclid=function(e){var t=E.getQueryParam("fbclid",e);if(!E.isEmptyString(t)){var n={fbclid:t};return _sendParamsReferrerUserProperties(this,n),n}},AmplitudeClient.prototype._getDeviceIdFromUrlParam=function(e){return E.getQueryParam(h.AMP_DEVICE_ID_PARAM,e)},AmplitudeClient.prototype._getReferrerFromUrlParam=function(e){return E.getQueryParam(h.AMP_REFERRER_PARAM,e)},AmplitudeClient.prototype._getReferringDomain=function(e){if(E.isEmptyString(e))return null;var t=e.split("/");return t.length>=3?t[2]:null},AmplitudeClient.prototype._saveReferrer=function(e){if(!E.isEmptyString(e)){var t={referrer:e,referring_domain:this._getReferringDomain(e)};return _sendParamsReferrerUserProperties(this,t),t}},AmplitudeClient.prototype.saveEvents=function(){try{var e=JSON.stringify(this._unsentEvents.map(function(e){return e.event}));this._setInStorage(O,this.options.unsentKey,e)}catch(e){}try{var t=JSON.stringify(this._unsentIdentifys.map(function(e){return e.event}));this._setInStorage(O,this.options.unsentIdentifyKey,t)}catch(e){}},AmplitudeClient.prototype.setDomain=function(e){if(this._shouldDeferCall())return this._q.push(["setDomain"].concat(Array.prototype.slice.call(arguments,0)));if(E.validateInput(e,"domain","string"))try{this.cookieStorage.options({expirationDays:this.options.cookieExpiration,secure:this.options.secureCookie,domain:e,sameSite:this.options.sameSiteCookie}),this.options.domain=this.cookieStorage.options().domain,_loadCookieData(this),_saveCookieData(this)}catch(e){E.log.error(e)}},AmplitudeClient.prototype.setUserId=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(E.validateInput(t,"startNewSession","boolean")){if(this._shouldDeferCall())return this._q.push(["setUserId"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.userId=null!=e&&""+e||null,t&&(this.options.unsetParamsReferrerOnNewSession&&this._unsetUTMParams(),this._newSession=!0,this._sessionId=new Date().getTime(),this._runNewSessionStartCallbacks(),this.options.saveParamsReferrerOncePerSession&&this._trackParamsAndReferrer()),_saveCookieData(this),this._connector&&this._connector.identityStore.editIdentity().setUserId(this.options.userId).commit()}catch(e){E.log.error(e)}}},AmplitudeClient.prototype.setGroup=function(e,t){if(this._shouldDeferCall())return this._q.push(["setGroup"].concat(Array.prototype.slice.call(arguments,0)));if(!(!this._apiKeySet("setGroup()")||!E.validateInput(e,"groupType","string")||E.isEmptyString(e))){var n={};n[e]=t;var i=new Identify().set(e,t);this._logEvent(h.IDENTIFY_EVENT,null,null,i.userPropertiesOperations,n,null,null,null)}},AmplitudeClient.prototype.setOptOut=function(e){if(this._shouldDeferCall())return this._q.push(["setOptOut"].concat(Array.prototype.slice.call(arguments,0)));if(E.validateInput(e,"enable","boolean"))try{this.options.optOut=e,_saveCookieData(this)}catch(e){E.log.error(e)}},AmplitudeClient.prototype.setSessionId=function(e){if(E.validateInput(e,"sessionId","number"))try{this._sessionId=e,_saveCookieData(this)}catch(e){E.log.error(e)}},AmplitudeClient.prototype.resetSessionId=function(){this.setSessionId(new Date().getTime())},AmplitudeClient.prototype.regenerateDeviceId=function(){if(this._shouldDeferCall())return this._q.push(["regenerateDeviceId"].concat(Array.prototype.slice.call(arguments,0)));this.setDeviceId(base64Id())},AmplitudeClient.prototype.setDeviceId=function(e){if(this._shouldDeferCall())return this._q.push(["setDeviceId"].concat(Array.prototype.slice.call(arguments,0)));if(E.validateDeviceId(e))try{!E.isEmptyString(e)&&(this.options.deviceId=""+e,_saveCookieData(this),this._connector&&this._connector.identityStore.editIdentity().setDeviceId(this.options.deviceId).commit())}catch(e){E.log.error(e)}},AmplitudeClient.prototype.setTransport=function(e){if(this._shouldDeferCall())return this._q.push(["setTransport"].concat(Array.prototype.slice.call(arguments,0)));E.validateTransport(e)&&(this.options.transport=e)},AmplitudeClient.prototype.setUserProperties=function(e){if(this._shouldDeferCall())return this._q.push(["setUserProperties"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("setUserProperties()")&&E.validateInput(e,"userProperties","object")){var t=E.truncate(E.validateProperties(e));if(0!==Object.keys(t).length){var n=new Identify;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.set(i,t[i]);this.identify(n)}}},AmplitudeClient.prototype.clearUserProperties=function(){if(this._shouldDeferCall())return this._q.push(["clearUserProperties"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("clearUserProperties()")){var e=new Identify;e.clearAll(),this.identify(e)}};var _convertProxyObjectToRealObject=function(e,t){for(var n=0;n<t._q.length;n++){var i=e[t._q[n][0]];"function"===type(i)&&i.apply(e,t._q[n].slice(1))}return e};AmplitudeClient.prototype.identify=function(e,t,n,i){if(this._shouldDeferCall())return this._q.push(["identify"].concat(Array.prototype.slice.call(arguments,0)));if(!this._apiKeySet("identify()")){_logErrorsWithCallbacks(t,n,0,"No request sent",{reason:"API key is not set"});return}if("object"===type(e)&&Object.prototype.hasOwnProperty.call(e,"_q")&&(e=_convertProxyObjectToRealObject(new Identify,e)),e instanceof Identify){if(Object.keys(e.userPropertiesOperations).length>0)return this._logEvent(h.IDENTIFY_EVENT,null,null,e.userPropertiesOperations,null,null,null,t,n,i);_logErrorsWithCallbacks(t,n,0,"No request sent",{reason:"No user property operations"})}else E.log.error("Invalid identify input type. Expected Identify object but saw "+type(e)),_logErrorsWithCallbacks(t,n,0,"No request sent",{reason:"Invalid identify input type"})},AmplitudeClient.prototype.groupIdentify=function(e,t,n,i,r,o){if(this._shouldDeferCall())return this._q.push(["groupIdentify"].concat(Array.prototype.slice.call(arguments,0)));if(!this._apiKeySet("groupIdentify()")){_logErrorsWithCallbacks(i,r,0,"No request sent",{reason:"API key is not set"});return}if(!E.validateInput(e,"group_type","string")||E.isEmptyString(e)){_logErrorsWithCallbacks(i,r,0,"No request sent",{reason:"Invalid group type"});return}if(null==t){_logErrorsWithCallbacks(i,r,0,"No request sent",{reason:"Invalid group name"});return}if("object"===type(n)&&Object.prototype.hasOwnProperty.call(n,"_q")&&(n=_convertProxyObjectToRealObject(new Identify,n)),n instanceof Identify){if(Object.keys(n.userPropertiesOperations).length>0)return this._logEvent(h.GROUP_IDENTIFY_EVENT,null,null,null,_defineProperty({},e,t),n.userPropertiesOperations,null,i,r,o);_logErrorsWithCallbacks(i,r,0,"No request sent",{reason:"No group property operations"})}else E.log.error("Invalid identify input type. Expected Identify object but saw "+type(n)),_logErrorsWithCallbacks(i,r,0,"No request sent",{reason:"Invalid identify input type"})},AmplitudeClient.prototype.setVersionName=function(e){if(this._shouldDeferCall())return this._q.push(["setVersionName"].concat(Array.prototype.slice.call(arguments,0)));E.validateInput(e,"versionName","string")&&(this.options.versionName=e)},AmplitudeClient.prototype._logEvent=function(e,t,n,i,r,o,s,a,u,p){if(_loadCookieData(this),!e){_logErrorsWithCallbacks(a,u,0,"No request sent",{reason:"Missing eventType"});return}if(this.options.optOut){_logErrorsWithCallbacks(a,u,0,"No request sent",{reason:"optOut is set to true"});return}try{l=e===h.IDENTIFY_EVENT||e===h.GROUP_IDENTIFY_EVENT?this.nextIdentifyId():this.nextEventId();var l,c=this.nextSequenceNumber(),d="number"===type(s)?s:new Date().getTime();p?this._sessionId=-1:this._sessionId&&this._lastEventTime&&!(d-this._lastEventTime>this.options.sessionTimeout)||(this._sessionId=d,this._runNewSessionStartCallbacks()),this._lastEventTime=d,_saveCookieData(this);var f=this._ua.browser.name,v=this._ua.browser.major,y=this._ua.device.model||this._ua.os.name,_=this._ua.device.vendor;i=i||{};var g=_objectSpread2({},this._apiPropertiesTrackingOptions);n=_objectSpread2(_objectSpread2({},n||{}),g),t=t||{},r=r||{},o=o||{};var m={device_id:this.options.deviceId,user_id:this.options.userId,timestamp:d,event_id:l,session_id:this._sessionId||-1,event_type:e,version_name:this.options.versionName||null,platform:_shouldTrackField(this,"platform")?this.options.platform:null,os_name:_shouldTrackField(this,"os_name")&&f||null,os_version:_shouldTrackField(this,"os_version")&&v||null,device_model:_shouldTrackField(this,"device_model")&&y||null,device_manufacturer:_shouldTrackField(this,"device_manufacturer")&&_||null,language:_shouldTrackField(this,"language")?this.options.language:null,api_properties:n,event_properties:E.truncate(E.validateProperties(t)),user_properties:E.truncate(E.validateProperties(i)),uuid:function uuid(e){return e?(e^16*Math.random()>>e/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,uuid)}(),library:this.options.library,sequence_number:c,groups:E.truncate(E.validateGroups(r)),group_properties:E.truncate(E.validateProperties(o)),user_agent:this._userAgent,partner_id:this.options.partnerId||null};return _isObservePlanSet(this)&&(m.plan={branch:this.options.plan.branch||void 0,source:this.options.plan.source||void 0,version:this.options.plan.version||void 0,versionId:this.options.plan.versionId||void 0}),_isIngestionMetadataSet(this)&&(m.ingestion_metadata={source_name:this.options.ingestionMetadata.sourceName||void 0,source_version:this.options.ingestionMetadata.sourceVersion||void 0}),e===h.IDENTIFY_EVENT||e===h.GROUP_IDENTIFY_EVENT?(this._unsentIdentifys.push({event:m,callback:a,errorCallback:u}),this._limitEventsQueued(this._unsentIdentifys)):(this._unsentEvents.push({event:m,callback:a,errorCallback:u}),this._limitEventsQueued(this._unsentEvents)),this.options.saveEvents&&this.saveEvents(),this._sendEventsIfReady(),e===h.IDENTIFY_EVENT&&this._connector&&this._connector.identityStore.editIdentity().updateUserProperties(E.truncate(E.validateProperties(i))).commit(),l}catch(e){E.log.error(e)}};var _isObservePlanSet=function(e){return e.options.plan&&(e.options.plan.source||e.options.plan.branch||e.options.plan.version||e.options.plan.versionId)},_isIngestionMetadataSet=function(e){return e.options.ingestionMetadata&&(e.options.ingestionMetadata.sourceName||e.options.ingestionMetadata.sourceVersion)},_shouldTrackField=function(e,t){return!!e.options.trackingOptions[t]},_generateApiPropertiesTrackingConfig=function(e){for(var t=["city","country","dma","ip_address","region"],n={},i=0;i<t.length;i++){var r=t[i];_shouldTrackField(e,r)||(n[r]=!1)}return n};AmplitudeClient.prototype._limitEventsQueued=function(e){e.length>this.options.savedMaxCount&&e.splice(0,e.length-this.options.savedMaxCount).forEach(function(e){_logErrorsWithCallbacks(e.callback,e.errorCallback,0,"No request sent",{reason:"Event dropped because options.savedMaxCount exceeded. User may be offline or have a content blocker"})})},AmplitudeClient.prototype.logEvent=function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this._shouldDeferCall()?this._q.push(["logEvent"].concat(Array.prototype.slice.call(arguments,0))):this.logEventWithTimestamp(e,t,null,n,i,r)},AmplitudeClient.prototype.logEventWithTimestamp=function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return this._shouldDeferCall()?this._q.push(["logEventWithTimestamp"].concat(Array.prototype.slice.call(arguments,0))):this._apiKeySet("logEvent()")?E.validateInput(e,"eventType","string")?E.isEmptyString(e)?(_logErrorsWithCallbacks(i,r,0,"No request sent",{reason:"Missing eventType"}),-1):(E.validateInput(o,"outOfSession","boolean")||_logErrorsWithCallbacks(i,r,0,"No request sent",{reason:"Invalid outOfSession value"}),this._logEvent(e,t,null,null,null,null,n,i,r,o)):(_logErrorsWithCallbacks(i,r,0,"No request sent",{reason:"Invalid type for eventType"}),-1):(_logErrorsWithCallbacks(i,r,0,"No request sent",{reason:"API key not set"}),-1)},AmplitudeClient.prototype.logEventWithGroups=function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return this._shouldDeferCall()?this._q.push(["logEventWithGroups"].concat(Array.prototype.slice.call(arguments,0))):this._apiKeySet("logEventWithGroups()")?E.validateInput(e,"eventType","string")?(E.validateInput(o,"outOfSession","boolean")||_logErrorsWithCallbacks(event.callback,event.errorCallback,0,"No request sent",{reason:"Invalid outOfSession value"}),this._logEvent(e,t,null,null,n,null,null,i,r,o)):(_logErrorsWithCallbacks(event.callback,event.errorCallback,0,"No request sent",{reason:"Invalid type for eventType"}),-1):(_logErrorsWithCallbacks(event.callback,event.errorCallback,0,"No request sent",{reason:"API key not set"}),-1)};var _isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},_logErrorsWithCallbacks=function(e,t,n,i,r){"function"===type(e)&&e(n,i,r),"function"===type(t)&&t(n,i,r)};AmplitudeClient.prototype.logRevenueV2=function(e){if(this._shouldDeferCall())return this._q.push(["logRevenueV2"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("logRevenueV2()")){if("object"===type(e)&&Object.prototype.hasOwnProperty.call(e,"_q")&&(e=_convertProxyObjectToRealObject(new Revenue,e)),e instanceof Revenue){if(e&&e._isValidRevenue())return this.logEvent(h.REVENUE_EVENT,e._toJSONObject())}else E.log.error("Invalid revenue input type. Expected Revenue object but saw "+type(e))}},AmplitudeClient.prototype.logRevenue=function(e,t,n){return this._shouldDeferCall()?this._q.push(["logRevenue"].concat(Array.prototype.slice.call(arguments,0))):this._apiKeySet("logRevenue()")&&_isNumber(e)&&(void 0===t||_isNumber(t))?this._logEvent(h.REVENUE_EVENT,{},{productId:n,special:"revenue_amount",quantity:t||1,price:e},null,null,null,null,null):-1},AmplitudeClient.prototype._logErrorsOnEvents=function(e,t,n,i){for(var r=["_unsentEvents","_unsentIdentifys"],o=0;o<r.length;o++)for(var s=r[o],a="_unsentEvents"===s?e:t,u=0;u<this[s].length;u++){var p=this[s][u];p.event.event_id<=a&&p.errorCallback&&p.errorCallback(n,i)}},AmplitudeClient.prototype.removeEvents=function(e,t,n,i){_removeEvents(this,"_unsentEvents",e,n,i),_removeEvents(this,"_unsentIdentifys",t,n,i)};var _removeEvents=function(e,t,n,i,r){if(!(n<0)){for(var o=[],s=0;s<e[t].length;s++){var a=e[t][s];a.event.event_id>n?o.push(a):a.callback&&a.callback(i,r)}e[t]=o}};AmplitudeClient.prototype.sendEvents=function(){if(!this._apiKeySet("sendEvents()")){this.removeEvents(1/0,1/0,0,"No request sent",{reason:"API key not set"});return}if(this.options.optOut){this.removeEvents(1/0,1/0,0,"No request sent",{reason:"Opt out is set to true"});return}if(0!==this._unsentCount()){if(this.options.transport!==h.TRANSPORT_BEACON){if(this._sending)return;this._sending=!0}var e=(this.options.forceHttps?"https":"https:"===f.location.protocol?"https":"http")+"://"+this.options.apiEndpoint,t=Math.min(this._unsentCount(),this.options.uploadBatchSize),n=this._mergeEventsAndIdentifys(t),i=n.maxEventId,r=n.maxIdentifyId,o=JSON.stringify(n.eventsToSend.map(function(e){return e.event})),s=new Date().getTime(),u={client:this.options.apiKey,e:o,v:h.API_VERSION,upload_time:s,checksum:a()(h.API_VERSION+this.options.apiKey+o+s)};if(this.options.transport===h.TRANSPORT_BEACON&&"undefined"!=typeof navigator){navigator.sendBeacon(e,new URLSearchParams(u))?(this.removeEvents(i,r,200,"success"),this.options.saveEvents&&this.saveEvents()):this._logErrorsOnEvents(i,r,0,"");return}var p=this;try{new Request(e,u,this.options.headers).send(function(e,n){p._sending=!1;try{200===e?(p.removeEvents(i,r,e,n),p.options.saveEvents&&p.saveEvents(),p._sendEventsIfReady()):(p._logErrorsOnEvents(i,r,e,n),413===e&&(1===p.options.uploadBatchSize&&p.removeEvents(i,r,e,n),p.options.uploadBatchSize=Math.ceil(t/2),p.sendEvents()))}catch(e){}})}catch(e){var l="Request failed to send";E.log.error(l),p._logErrorsOnEvents(i,r,0,l),p.removeEvents(i,r,0,l,{reason:e.message})}}},AmplitudeClient.prototype._mergeEventsAndIdentifys=function(e){for(var t=[],n=0,i=-1,r=0,o=-1;t.length<e;){var s=void 0,a=r>=this._unsentIdentifys.length,u=n>=this._unsentEvents.length;if(u&&a){E.log.error("Merging Events and Identifys, less events and identifys than expected");break}a?i=(s=this._unsentEvents[n++]).event.event_id:u?o=(s=this._unsentIdentifys[r++]).event.event_id:"sequence_number"in this._unsentEvents[n].event&&!(this._unsentEvents[n].event.sequence_number<this._unsentIdentifys[r].event.sequence_number)?o=(s=this._unsentIdentifys[r++]).event.event_id:i=(s=this._unsentEvents[n++]).event.event_id,t.push(s)}return{eventsToSend:t,maxEventId:i,maxIdentifyId:o}},AmplitudeClient.prototype.setGlobalUserProperties=function(e){this.setUserProperties(e)},AmplitudeClient.prototype.__VERSION__=function(){return this.options.library.version},AmplitudeClient.prototype.setLibrary=function(e,t){null!=e&&(this.options.library.name=e),null!=t&&(this.options.library.version=t)},AmplitudeClient.prototype._shouldDeferCall=function(){return this._pendingReadStorage||this._initializationDeferred},AmplitudeClient.prototype._deferInitialization=function(){this._initializationDeferred=!0,this._q.push(["init"].concat(Array.prototype.slice.call(arguments,0)))},AmplitudeClient.prototype.enableTracking=function(){this._initializationDeferred=!1,_saveCookieData(this),this.runQueuedFunctions()},AmplitudeClient.prototype._refreshDynamicConfig=function(){this.options.useDynamicConfig&&M.refresh(this.options.serverZone,this.options.forceHttps,(function(){this.options.apiEndpoint=M.ingestionEndpoint}).bind(this))},AmplitudeClient.prototype.getDeviceId=function(){return this.options.deviceId},AmplitudeClient.prototype.getUserId=function(){return this.options.userId},AmplitudeClient.prototype.setMinTimeBetweenSessionsMillis=function(e){if(E.validateInput(e,"timeInMillis","number")){if(this._shouldDeferCall())return this._q.push(["setMinTimeBetweenSessionsMillis"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.sessionTimeout=e}catch(e){E.log.error(e)}}},AmplitudeClient.prototype.setEventUploadThreshold=function(e){if(E.validateInput(e,"eventUploadThreshold","number")){if(this._shouldDeferCall())return this._q.push(["setEventUploadThreshold"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.eventUploadThreshold=e}catch(e){E.log.error(e)}}},AmplitudeClient.prototype.setUseDynamicConfig=function(e){if(E.validateInput(e,"useDynamicConfig","boolean")){if(this._shouldDeferCall())return this._q.push(["setUseDynamicConfig"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.useDynamicConfig=e,this._refreshDynamicConfig()}catch(e){E.log.error(e)}}},AmplitudeClient.prototype.setServerZone=function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if((e===D.EU||e===D.US)&&E.validateInput(t,"serverZoneBasedApi","boolean")){if(this._shouldDeferCall())return this._q.push(["setServerZone"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.serverZone=e,this.options.serverZoneBasedApi=t,t&&(this.options.apiEndpoint=getEventLogApi(this.options.serverZone))}catch(e){E.log.error(e)}}},AmplitudeClient.prototype.setServerUrl=function(e){if(E.validateInput(e,"serverUrl","string")){if(this._shouldDeferCall())return this._q.push(["setServerUrl"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.apiEndpoint=e}catch(e){E.log.error(e)}}};var Amplitude=function(){this.options=_objectSpread2({},w),this._q=[],this._instances={}};Amplitude.prototype.Identify=Identify,Amplitude.prototype.Revenue=Revenue,Amplitude.prototype.getInstance=function(e){e=E.isEmptyString(e)?h.DEFAULT_INSTANCE:e.toLowerCase();var t=this._instances[e];return void 0===t&&(t=new AmplitudeClient(e),this._instances[e]=t),t},Amplitude.prototype.init=function(e,t,n,i){this.getInstance().init(e,t,n,(function(e){this.options=e.options,"function"===type(i)&&i(e)}).bind(this))},Amplitude.prototype.isNewSession=function(){return this.getInstance().isNewSession()},Amplitude.prototype.getSessionId=function(){return this.getInstance().getSessionId()},Amplitude.prototype.nextEventId=function(){return this.getInstance().nextEventId()},Amplitude.prototype.nextIdentifyId=function(){return this.getInstance().nextIdentifyId()},Amplitude.prototype.nextSequenceNumber=function(){return this.getInstance().nextSequenceNumber()},Amplitude.prototype.saveEvents=function(){this.getInstance().saveEvents()},Amplitude.prototype.setDomain=function(e){this.getInstance().setDomain(e)},Amplitude.prototype.setUserId=function(e){this.getInstance().setUserId(e)},Amplitude.prototype.setGroup=function(e,t){this.getInstance().setGroup(e,t)},Amplitude.prototype.setOptOut=function(e){this.getInstance().setOptOut(e)},Amplitude.prototype.regenerateDeviceId=function(){this.getInstance().regenerateDeviceId()},Amplitude.prototype.setDeviceId=function(e){this.getInstance().setDeviceId(e)},Amplitude.prototype.setUserProperties=function(e){this.getInstance().setUserProperties(e)},Amplitude.prototype.clearUserProperties=function(){this.getInstance().clearUserProperties()},Amplitude.prototype.identify=function(e,t){this.getInstance().identify(e,t)},Amplitude.prototype.setVersionName=function(e){this.getInstance().setVersionName(e)},Amplitude.prototype.logEvent=function(e,t,n){return this.getInstance().logEvent(e,t,n)},Amplitude.prototype.logEventWithGroups=function(e,t,n,i){return this.getInstance().logEventWithGroups(e,t,n,i)},Amplitude.prototype.logRevenueV2=function(e){return this.getInstance().logRevenueV2(e)},Amplitude.prototype.logRevenue=function(e,t,n){return this.getInstance().logRevenue(e,t,n)},Amplitude.prototype.removeEvents=function(e,t){this.getInstance().removeEvents(e,t)},Amplitude.prototype.sendEvents=function(e){this.getInstance().sendEvents(e)},Amplitude.prototype.setGlobalUserProperties=function(e){this.getInstance().setUserProperties(e)},Amplitude.prototype.__VERSION__=U;var j=void 0!==f&&f.amplitude||{},x=new Amplitude;for(var q in x._q=j._q||[],j._iq)Object.prototype.hasOwnProperty.call(j._iq,q)&&(x.getInstance(q)._q=j._iq[q]._q||[])}}]);